import{u as x,j as e,L as u,r as l,a as f}from"./index-DPZ3TDY9.js";import{f as j,a as g}from"./products-VCj_vrw6.js";import{S as y}from"./sweetalert2.esm.all-DzlfzZPw.js";import"./firebase-D-P0CyqM.js";function N({item:t}){const{addItem:s}=x(),o=t?.img||"",a=t?.titulo||"Sin título",c=t?.descripcion||"",r=typeof t?.price=="string"?parseFloat(t?.price):t?.price,n=r?new Intl.NumberFormat("es-AR",{style:"currency",currency:"ARS"}).format(r):"";return e.jsxs("div",{className:"card mb-4 shadow-sm h-100",children:[o&&e.jsx(u,{to:`/item/${t?.id}`,children:e.jsx("img",{src:o,alt:a,className:"card-img-top",style:{objectFit:"cover",height:220}})}),e.jsxs("div",{className:"card-body d-flex flex-column",children:[e.jsx("h5",{className:"card-title",children:e.jsx(u,{to:`/item/${t?.id}`,className:"text-decoration-none",children:a})}),e.jsx("p",{className:"card-text text-muted",children:c}),e.jsxs("div",{className:"mt-auto d-flex justify-content-between align-items-center",children:[e.jsx("small",{className:"text-muted",children:n}),e.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>{s({id:t.id,title:a,price:r,image:o},1),y.fire({toast:!0,position:"top-end",icon:"success",title:`${a} agregado al carrito`,showConfirmButton:!1,timer:1400})},"aria-label":`Agregar ${a} al carrito`,children:"Agregar"})]})]})]})}function b({data:t}){return e.jsx("div",{className:"row",children:t.map(s=>e.jsx("div",{className:"col-md-4",children:e.jsx(N,{item:s})},s.id))})}function v({scrollTo:t="bottom",children:s="Comprar Ahora"}){const o=a=>{if(a.preventDefault(),t&&typeof t=="string"&&t!=="bottom"){const c=document.querySelector(t);if(c){c.scrollIntoView({behavior:"smooth",block:"start"});return}}window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})};return e.jsx("button",{onClick:o,className:"d-inline-flex align-items-center justify-content-center rounded-pill h-48 px-4 btn-buy-now",style:{minWidth:84,maxWidth:480},"aria-label":s,children:e.jsx("span",{className:"truncate",children:s})})}function w({title:t="BLOOM",subtitle:s="Donde la moda florece con diseños florales únicos. Explora nuestra ropa personalizada, estampados y servicios para grupos."}){return e.jsxs("header",{className:"hero",role:"banner","aria-label":"Hero",children:[e.jsx("div",{className:"hero-bg",style:{backgroundImage:"url(https://lh3.googleusercontent.com/aida-public/AB6AXuDiLo-qohd1EuFjiVHHGcUmJq8fffqzBSTkvQjagY4RLKu0rwebGhqgBEI9lqBGUGqh5qNHlGrdtnZZSY2ddjq_6GZlHJp9HuDpagM7iQosIMh_vAKOVPz8Cd45kv89gu4MUj77fy-GH0xXbJyYt7CdfGqvMGT9iuj0WbF6SG2yW24wAVVSuZEhnTrMT6qfKyvDm-sILBAik-PcCv5TN1LUW6R6tNO_0ui7-y8B80RGDsQpAYmLUStceyhI7pnoxVHkUpjcVDQubaiw)"}}),e.jsx("div",{className:"hero-overlay"}),e.jsxs("div",{className:"hero-content container text-center",children:[e.jsx("h1",{className:"hero-title",children:t}),e.jsx("p",{className:"hero-subtitle",children:s}),e.jsx("div",{className:"hero-cta",children:e.jsx(v,{})})]})]})}function q({greeting:t}){const[s,o]=l.useState([]),[a,c]=l.useState(!0),[r,n]=l.useState(null),{categoryId:d}=f();return l.useEffect(()=>{let i=!1;async function h(){c(!0),n(null);try{const p=await(d?()=>j(d):g)();i||o(p||[])}catch(m){console.error("Error cargando productos:",m),i||n(m?.message||"No se pudieron cargar los productos")}finally{i||c(!1)}}return h(),()=>{i=!0}},[d]),e.jsxs("main",{className:"container-xxl py-4",children:[t?e.jsx(w,{title:t}):e.jsx("div",{className:"p-4 p-md-5 mb-4 bg-light rounded-3",children:e.jsx("div",{className:"container-fluid py-2",children:e.jsx("p",{className:"text-muted m-0",children:"Ropa personalizada y única hecha para vos."})})}),e.jsxs("div",{className:"container-fluid mt-4",children:[a&&e.jsx("div",{className:"mt-3",children:"Cargando productos..."}),r&&e.jsx("div",{className:"alert alert-danger mt-3",children:r}),!a&&!r&&s.length===0&&e.jsx("div",{className:"mt-3 text-muted",children:"No hay productos para mostrar."}),!a&&!r&&s.length>0&&e.jsx(b,{data:s})]})]})}export{q as default};
