import{r as o,j as s,u,L as l,a as m}from"./index-DPZ3TDY9.js";import{b as p}from"./products-VCj_vrw6.js";import{S as f}from"./sweetalert2.esm.all-DzlfzZPw.js";import"./firebase-D-P0CyqM.js";function x({stock:t,initial:c,onAdd:r}){const[e,n]=o.useState(c),a=()=>{e<t&&n(e+1)},i=()=>{e>1&&n(e-1)};return s.jsxs("div",{className:"d-flex gap-2 align-items-center",children:[s.jsx("button",{className:"btn btn-outline-secondary",onClick:i,type:"button",children:"-"}),s.jsx("span",{children:e}),s.jsx("button",{className:"btn btn-outline-secondary",onClick:a,type:"button",children:"+"}),s.jsx("button",{className:"btn btn-primary",onClick:()=>r(e),type:"button",children:"Agregar al carrito"})]})}function h({item:t}){const{addItem:c}=u(),[r,e]=o.useState(0),n=a=>{const i=typeof t.price=="string"?parseFloat(t.price):t.price,d=typeof t.stock=="string"?parseInt(t.stock):t.stock;c({id:t.id,title:t.titulo,price:i,image:t.img,stock:d},a),e(a),f.fire({toast:!0,position:"top-end",icon:"success",title:`${a} agregado(s) al carrito`,showConfirmButton:!1,timer:1400})};return s.jsxs("div",{className:"row",children:[s.jsx("div",{className:"col-md-6",children:t.img&&s.jsx("img",{src:t.img,alt:t.titulo,className:"img-fluid rounded"})}),s.jsxs("div",{className:"col-md-6",children:[s.jsx("h2",{children:t.titulo}),s.jsx("p",{className:"text-muted",children:t.descripcion}),s.jsx("p",{className:"fs-5 fw-semibold",children:new Intl.NumberFormat("es-AR",{style:"currency",currency:"ARS"}).format(t.price)}),r===0?s.jsx(x,{stock:t.stock||10,initial:1,onAdd:n}):s.jsxs("div",{className:"d-flex gap-2",children:[s.jsx(l,{to:"/cart",className:"btn btn-success",children:"Ir al carrito"}),s.jsx(l,{to:"/",className:"btn btn-outline-secondary",children:"Seguir comprando"})]})]})]})}function N(){const{id:t}=m(),[c,r]=o.useState(null),[e,n]=o.useState(!0);return o.useEffect(()=>{n(!0),p(t).then(a=>r(a)).finally(()=>n(!1))},[t]),e?s.jsx("div",{className:"container py-4",children:"Cargando detalle..."}):c?s.jsx("div",{className:"container py-4",children:s.jsx(h,{item:c})}):s.jsx("div",{className:"container py-4",children:"Producto no encontrado"})}export{N as default};
